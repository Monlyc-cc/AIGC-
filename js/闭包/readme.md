# 作用域
- 在程序中定义变量的区域，该位置决定了变量的生命周期。通俗来讲，作用域就是变量和函数的可访问范围

# 作用域的类别
1. 全局作用域
2. 函数作用域
3. 块级作用域

# 执行上下文
1. 变量环境 ，var 与 函数声明会存在变量环境中
2. 词法环境，let 声明的变量会存在词法环境中，词法环境本质上是小型的调用栈每一个{} 都会形成一个小的词法环境，每个词法环境都有自己的作用域链。
# 作用域链
- 作用域链与函数调用过程无关，与函数所在的词法环境有关
- outer指针：每一个函数内部都会存在一个指针outer，指向该函数的外层作用域（其所在的词法作用域）
- 词法作用域：
一个函数被编译时一定会用一个outer指针记录该执行上下文（作用域）的外层（作用域）是谁。

词法作用域：函数声明的位置


# 闭包
- 两个冲突的铁律
1. 一个函数执行完毕后，它的执行上下文会从调用栈中销毁。
2. 一个函数内部的函数，一定有权力访问该外部函数中的变量（作用域规则）
- 闭包的诞生，调节上述两个铁律
1. 当调用一个外部函数中返回的内部函数时，即使外部函数已经执行结束，但是内部函数依然引用了外部函数中的变量，那么外部函数执行上下文就不能被销毁，而是会保留一个集合，用来装内部函数需要引用的变量，而这个集合就被称之为
“闭包”
- 闭包的优点：定义私有变量，封装模块。
- 缺点：内存泄漏，可能会留下过多的闭包

